关于资金模块操作流程以及其原子性的想法：

​			付款方：付款方的授权和校验余额这两步都可以直接进行，不会影响到数据库的内容

而当条件满足，发起付款的时候，资金冻结和结算这两步需要同时进行，如果资金冻结了，而未结算，则冻结多次用户则无资金可用。资金未结算，收款方也不能及时收到。

​		收款方：收款方接收到收款请求后，选择接受收款，则其修改订单信息返回入账成功，并且入账到相应账户中，这两步也需要同时进行，避免收款方收款后，付款方无法收到消息，账单一直处于结算状态，没有下一步动作。 

​     如若拒绝收款，则直接修改账单信息为拒绝收款，此时付款方得知入账失败，则可选择再次入账或者退款，退款则将资金回流以及修改账单状态为不结算，这两步也需要同时进行保证原子性。如选择再次入账，则只需要把账单状态修改，令收款方再次处理账单信息。

以上是基于类似微信支付流程的模拟支付收款的想法。





关于禁止洗钱行为的实现：初步想法是限制用户在一段时间内多次对同一用户或者群组发起数额较大的付款请求，可以记录其对同一对象发送交易请求的时间间隔，以及数额，进行比较。